<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Time Widget</title>
  <style>
    :root { --clock-d: 200px; } /* ✅ 시계 원 지름(세로길이 미세조정용) */

    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 20px;
      font-family: sans-serif;         /* 저작권 안전 */
      background: transparent;
      display: flex; justify-content: center; align-items: center;
      min-height: 100vh;
    }

    /* 바깥: 투명 배경 + 테두리/그림자 (할 일 위젯과 동일) */
    .widget {
      background: transparent;
      border-radius: 32px;
      padding: 0;                      /* 내부 카드가 패딩 담당 */
      box-shadow: 0 8px 32px rgba(0,0,0,0.06);
      width: 100%;
      max-width: 500px;
      border: 1px solid rgba(0,0,0,0.04);
    }

    /* 안쪽 카드: 흰 배경(다크모드에서도 또렷) */
    .card {
      background: #fff;
      border-radius: 32px;
      padding: 32px 28px;              /* ✅ 동일 패딩 */
      width: 100%;
      display: flex; flex-direction: column;
    }

    .header { text-align: center; margin-bottom: 32px; } /* ✅ 동일 여백 */
    .title  { font-size: 1.75rem; font-weight: 700; color: #1a1a1a; margin-bottom: 8px; letter-spacing: -0.02em; }
    .date   { font-size: 1rem; color: #999; font-weight: 400; }

    .clock {
      position: relative;
      width: var(--clock-d);
      height: var(--clock-d);
      margin: 0 auto;                  /* 가운데 정렬 */
      border-radius: 50%;
      background: transparent;         /* 원판 자체는 투명 (배경은 카드가 담당) */
    }

    /* 숫자 */
    .clock-number, .minor-number {
      position: absolute; transform: translate(-50%, -50%);
      user-select: none; pointer-events: none; color: #1a1a1a;
    }
    .clock-number { font-weight: 700; font-size: 1.15rem; }
    .minor-number { font-weight: 500; font-size: .8rem; color: #333; }

    /* 중심점 */
    .clock-center {
      position: absolute; top: 50%; left: 50%;
      width: 18px; height: 18px; background: #000cfe;
      border: 4px solid #fff; border-radius: 50%;
      transform: translate(-50%, -50%); z-index: 999;
      box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
    }

    /* 바늘 */
    .hand {
      position: absolute; top: 50%; left: 50%;
      transform-origin: 50% 100%;
      border-radius: 999px; z-index: 10;
    }
    .hour-hand   { width: 10px; height: calc(var(--clock-d) * 0.31); background: #1a1a1a; z-index: 12; }
    .minute-hand { width: 8px;  height: calc(var(--clock-d) * 0.27); background: #1a1a1a; z-index: 13; } /* 분침 짧게 */
    .second-hand { width: 4px;  height: calc(var(--clock-d) * 0.35); background: #000cfe; z-index: 11; }
  </style>
</head>
<body>
  <div class="widget">
    <div class="card">
      <div class="header">
        <div class="title">Time</div>
        <div class="date" id="todayDate"></div>
      </div>

      <div class="clock" id="clock">
        <!-- 큰 숫자 -->
        <div class="clock-number" id="num12">12</div>
        <div class="clock-number" id="num3">3</div>
        <div class="clock-number" id="num6">6</div>
        <div class="clock-number" id="num9">9</div>

        <!-- 바늘 -->
        <div class="hand hour-hand"   id="hourHand"></div>
        <div class="hand minute-hand" id="minuteHand"></div>
        <div class="hand second-hand" id="secondHand"></div>

        <!-- 중심점 -->
        <div class="clock-center"></div>
      </div>
    </div>
  </div>

  <script>
    // 날짜(한국)
    function updateDate() {
      const now = new Date();
      const kr = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Seoul' }));
      document.getElementById('todayDate').innerText = kr.toLocaleDateString('en-US', {
        year: 'numeric', month: 'long', day: 'numeric', timeZone: 'Asia/Seoul'
      });
    }

    // 바늘 회전
    const setHand = (el, deg) => el.style.transform = `translate(-50%, -100%) rotate(${deg}deg)`;

    function updateClock() {
      const now = new Date();
      const kr = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Seoul' }));
      const h = kr.getHours() % 12, m = kr.getMinutes(), s = kr.getSeconds();
      setHand(document.getElementById('hourHand'),   h * 30 + m * 0.5);
      setHand(document.getElementById('minuteHand'), m * 6);
      setHand(document.getElementById('secondHand'), s * 6);
    }

    // 숫자 배치(고정 지름 기준)
    function placeNumbers() {
      const d = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--clock-d'));
      const r = d / 2;
      const numOffset = Math.round(d * 0.11);
      const clock = document.getElementById('clock');

      // 큰 숫자 위치
      const setPos = (el, x, y) => { el.style.left = x + 'px'; el.style.top = y + 'px'; };
      setPos(num12, r, numOffset);
      setPos(num3,  d - numOffset, r);
      setPos(num6,  r, d - numOffset);
      setPos(num9,  numOffset, r);

      // 작은 숫자
      clock.querySelectorAll('.minor-number').forEach(e => e.remove());
      [1,2,4,5,7,8,10,11].forEach(n => {
        const angle = n * 30 * Math.PI/180;
        const minorRadius = r - Math.max(18, Math.floor(d * 0.14));
        const x = r + minorRadius * Math.sin(angle);
        const y = r - minorRadius * Math.cos(angle);
        const el = document.createElement('div');
        el.className = 'minor-number';
        el.textContent = n;
        el.style.left = x + 'px';
        el.style.top  = y + 'px';
        clock.appendChild(el);
      });
    }

    // 초기화
    updateDate();
    placeNumbers();
    updateClock();
    setInterval(updateClock, 1000);
  </script>
</body>
</html>
